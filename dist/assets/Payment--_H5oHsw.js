import{j as t,a as n}from"./index-BMDUoIZi.js";import{r as m}from"./vendor-BvbJF06O.js";function _(o){console.log(o);const[l,c]=m.useState({orderId:"",orderAmount:"",currency:"INR"}),s=()=>new Promise(a=>{const r=document.createElement("script");r.src="https://checkout.razorpay.com/v1/checkout.js",r.onload=()=>a(!0),r.onerror=()=>a(!1),document.body.appendChild(r)}),i=async()=>{try{const a=await n.post("https://aatulya-bharat.onrender.com/pay/create-order",{amount:o.Amount});c({orderId:a.data.id,orderAmount:a.data.amount,currency:a.data.currency}),d(a.data)}catch(a){console.error("Error creating order:",a)}},d=async a=>{if(!await s()){alert("Failed to load Razorpay SDK");return}const y={key:"rzp_test_NUXd7hr82kbcfF",amount:a.amount,currency:a.currency,name:"Make-In-Bharat Gateway",description:"Pay for Best",order_id:a.id,handler:async function(e){console.log(e.razorpay_payment_id),console.log(e.razorpay_order_id),(await n.post("https://aatulya-bharat.onrender.com/pay/verify-payment",{razorpay_order_id:e.razorpay_order_id,razorpay_payment_id:e.razorpay_payment_id,razorpay_signature:e.razorpay_signature})).data.message==="Payment verified successfully"?alert("Payment successful!!!"):alert("Payment verification failed")},prefill:{name:"Ganesh",email:"ganimaheshwari07@example.com",contact:"6374620670"},theme:{color:"#f39454f9"}};new window.Razorpay(y).open()};return t.jsx(t.Fragment,{children:t.jsx("button",{onClick:i,className:"button1",children:"Make Payment"})})}export{_ as default};
